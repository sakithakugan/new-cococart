{"ast":null,"code":"var _jsxFileName = \"/home/uki-jaffna-student/Music/Final_cococart/frontend/src/components/admin/UpdateUser.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport MetaData from '../layout/MetaData';\nimport Sidebar from './Sidebar';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateUser, getUserDetails, clearErrors } from '../../actions/userActions';\nimport { UPDATE_USER_RESET } from '../../constants/userConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateUser = _ref => {\n  _s();\n\n  let {\n    history,\n    match\n  } = _ref;\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [role, setRole] = useState('');\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    error,\n    isUpdated\n  } = useSelector(state => state.user);\n  const {\n    user\n  } = useSelector(state => state.userDetails);\n  const userId = match.params.id;\n  useEffect(() => {\n    console.log(user && user._id !== userId);\n\n    if (user && user._id !== userId) {\n      dispatch(getUserDetails(userId));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setRole(user.role);\n    }\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success('User updated successfully');\n      history.push('/admin/users');\n      dispatch({\n        type: UPDATE_USER_RESET\n      });\n    }\n  }, [dispatch, alert, error, history, isUpdated, userId, user]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.set('name', name);\n    formData.set('email', email);\n    formData.set('role', role);\n    dispatch(updateUser(user._id, formData));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: `Update User`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-10 col-lg-5\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"shadow-lg\",\n              onSubmit: submitHandler,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mt-2 mb-5\",\n                children: \"Update User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"name_field\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"name\",\n                  id: \"name_field\",\n                  className: \"form-control\",\n                  name: \"name\",\n                  value: name,\n                  onChange: e => setName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email_field\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email_field\",\n                  className: \"form-control\",\n                  name: \"email\",\n                  value: email,\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"role_field\",\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"role_field\",\n                  className: \"form-control\",\n                  name: \"role\",\n                  value: role,\n                  onChange: e => setRole(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"user\",\n                    children: \"user\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"admin\",\n                    children: \"admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn update-btn btn-block mt-4 mb-3\",\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdateUser, \"4Za5evmUzfAY6Ihslm8oqDN3HFs=\", false, function () {\n  return [useAlert, useDispatch, useSelector, useSelector];\n});\n\n_c = UpdateUser;\nexport default UpdateUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateUser\");","map":{"version":3,"names":["React","Fragment","useState","useEffect","MetaData","Sidebar","useAlert","useDispatch","useSelector","updateUser","getUserDetails","clearErrors","UPDATE_USER_RESET","UpdateUser","history","match","name","setName","email","setEmail","role","setRole","alert","dispatch","error","isUpdated","state","user","userDetails","userId","params","id","console","log","_id","success","push","type","submitHandler","e","preventDefault","formData","FormData","set","target","value"],"sources":["/home/uki-jaffna-student/Music/Final_cococart/frontend/src/components/admin/UpdateUser.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\n\nimport MetaData from '../layout/MetaData'\nimport Sidebar from './Sidebar'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { updateUser, getUserDetails, clearErrors } from '../../actions/userActions'\nimport { UPDATE_USER_RESET } from '../../constants/userConstants'\n\nconst UpdateUser = ({ history, match }) => {\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [role, setRole] = useState('')\n\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { error, isUpdated } = useSelector(state => state.user);\n    const { user } = useSelector(state => state.userDetails)\n\n    const userId = match.params.id;\n\n    useEffect(() => {\n\n        console.log(user && user._id !== userId);\n        if (user && user._id !== userId) {\n            dispatch(getUserDetails(userId))\n        } else {\n            setName(user.name);\n            setEmail(user.email);\n            setRole(user.role)\n        }\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors());\n        }\n\n        if (isUpdated) {\n            alert.success('User updated successfully')\n\n            history.push('/admin/users')\n\n            dispatch({\n                type: UPDATE_USER_RESET\n            })\n        }\n\n    }, [dispatch, alert, error, history, isUpdated, userId, user])\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n\n        const formData = new FormData();\n        formData.set('name', name);\n        formData.set('email', email);\n        formData.set('role', role);\n\n        dispatch(updateUser(user._id, formData))\n    }\n\n\n    return (\n        <Fragment>\n            <MetaData title={`Update User`} />\n            <div className=\"row\">\n                <div className=\"col-12 col-md-2\">\n                    <Sidebar />\n                </div>\n\n                <div className=\"col-12 col-md-10\">\n                    <div className=\"row wrapper\">\n                        <div className=\"col-10 col-lg-5\">\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\n                                <h1 className=\"mt-2 mb-5\">Update User</h1>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"name_field\">Name</label>\n                                    <input\n                                        type=\"name\"\n                                        id=\"name_field\"\n                                        className=\"form-control\"\n                                        name='name'\n                                        value={name}\n                                        onChange={(e) => setName(e.target.value)}\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email_field\">Email</label>\n                                    <input\n                                        type=\"email\"\n                                        id=\"email_field\"\n                                        className=\"form-control\"\n                                        name='email'\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"role_field\">Role</label>\n\n                                    <select\n                                        id=\"role_field\"\n                                        className=\"form-control\"\n                                        name='role'\n                                        value={role}\n                                        onChange={(e) => setRole(e.target.value)}\n                                    >\n                                        <option value=\"user\">user</option>\n                                        <option value=\"admin\">admin</option>\n                                    </select>\n                                </div>\n\n                                <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" >Update</button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </Fragment>\n    )\n}\n\nexport default UpdateUser\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}